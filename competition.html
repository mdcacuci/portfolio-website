<!DOCTYPE html>
<html>
  <head>
      
      
      
<!--STYLE-->
    <link
      rel="stylesheet"
      href="style.css"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
  </head>
    
    
    
  <body>
    
    <a href="/">Practice</a>
    <a href="/prescout">Prescouting</a>
    <a href="/competition" class="current">Competition</a>
      
    <p>#8005 Mega Meadowbots</p><br>
    <center><img src="Logo.png" alt="Mega Meadowbots Logo"></center>
    <h1>Competition Scouting Form</h1><br>
    
      
      
      
<!--FORM-->      
    <form id="form" class="container m-4 pl-4" method="POST">    
        <div class = "container">     

<!--Basic Info Row-->
    <hr>
    <h2>Basic Info</h2>
    <div class="row" >
        
        
    <!--      Name-->
          <div class="field, column">
            <h3 class="label">Name<span class="required-indicator">*</span></h3>
            <div class="control">
              <input
                class="input"
                type="text"
                placeholder="Your Name"
                name="Name"
              required/>
            </div>
          </div>


    <!--        Team Number-->
          <div class="field, column">
            <h3 class="label">Team Number<span class="required-indicator">*</span></h3>
            <div class="control">
              <input
                class="input"
                type="number"
                placeholder="Team Number"
                name="Team Number"
              required/>
            </div>
          </div>


    <!--        Team Name-->
          <div class="field, column">
            <h3 class="label">Team Name</h3>
            <div class="control">
              <input
                class="input"
                type="text"
                placeholder="Team Name"
                name="Team Name"
              />
            </div>
          </div>


    <!--        Match Number-->
          <div class="field, column">
            <h3 class="label">Match Number<span class="required-indicator">*</span></h3>
            <div class="control">
              <input
                class="input"
                type="text"
                placeholder="Match Number"
                name="Match Number"
              required/>
            </div>
          </div>
        </div>
  
            
            
<!--Autonmous Row-->
    <hr>
    <h2>Autonomous</h2>
    <center>        
    <img src="auto.png" id="auto" alt="Autonomous Map">
            </center>    
    <div class="row" >
  
<!--      Starting Position-->
          <div class="field, column">
            <h3>Which Spot did they Start in?<span class="required-indicator">*</span></h3>
              
              <input type="radio" id="amp" name="Starting Side" value="Amp">
              <label for="amp">Amp</label><br>
              <input type="radio" id="speaker" name="Starting Side" value="Speaker">
              <label for="speaker">Speaker</label><br>
              <input type="radio" id="source" name="Starting Side" value="Source">
              <label for="source">Source</label><br>
              
          </div>         
        
        
    <!--      Program Aspects-->
          <div class="field, column">
            <h3>Auto Program Aspects<span class="required-indicator">*</span></h3>
              
            <div class="control">
              <input type="hidden" name="Exit Auto?" value="No">           
              <input type="checkbox" id="option1" name="Exit Auto?" value="Yes">
              <label for="option1"> Exits Starting Zone</label><br>  
            </div>  
              
            <div class="control">
              <input type="hidden" name="Speaker Auto?" value="No">     
              <input type="checkbox" id="option2" name="Speaker Auto?" value="Yes">
              <label for="option2"> Shoots into Speaker</label><br> 
            </div>  
              
            <div class="control">
              <input type="hidden" name="Amp Auto?" value="No">     
              <input type="checkbox" id="option3" name="Amp Auto?" value="Yes">
              <label for="option3"> Puts Note into Amp</label><br> 
            </div>
              
            <div class="control">
              <input type="hidden" name="No Auto?" value="No">     
              <input type="checkbox" id="option4" name="No Auto?" value="Yes">
              <label for="option4">They Don't Have an Auto</label><br> 
            </div>  
              
              
          </div>


    <!--        Number of Notes Scored-->
          <div class="field, column">
            <h3 class="label">How Many Notes did they Successfully Score?<span class="required-indicator">*</span></h3>
             <div class="increase">
                 <button class="button decrease" type = "button">-</button>
              <input
                class="input"
                type="number"
                placeholder="0"
                name="Num Auto Scored"
              required/>
                <button class="button button_increase" type = "button">+</button>
            </div>
          </div>
        
    <!--        Number of Notes Went for-->
          <div class="field, column">
            <h3 class="label">How Many Notes did they Attempt to Score?<span class="required-indicator">*</span></h3>
            <div class="increase">
                 <button class="button decrease" type = "button">-</button>
              <input
                class="input"
                type="number"
                placeholder="0"
                name="Num Auto Attempted"
              required/>
                <button class="button button_increase" type = "button">+</button>
            </div>
          </div>    

<!--        Notes Attempted-->
        <div class="field, column">
            <h3>Which Notes did they Attempt?</h3>
              
              <input type="hidden" name="1?" value="No">           
              <input type="checkbox" id="option1" name="1?" value="Yes">
              <label for="option1">1</label>    
            
              <input type="hidden" name="2?" value="No">           
              <input type="checkbox" id="option2" name="2?" value="Yes">
              <label for="option2">2</label><br>  
            
              <input type="hidden" name="3?" value="No">           
              <input type="checkbox" id="option3" name="3?" value="Yes">
              <label for="option3">3</label>  
            
              <input type="hidden" name="4?" value="No">           
              <input type="checkbox" id="option4" name="4?" value="Yes">
              <label for="option4">4</label><br>  
           
              <input type="hidden" name="5?" value="No">           
              <input type="checkbox" id="option5" name="5?" value="Yes">
              <label for="option5">5</label> 
            
              <input type="hidden" name="6?" value="No">           
              <input type="checkbox" id="option6" name="6?" value="Yes">
              <label for="option6">6</label><br>  
            
              <input type="hidden" name="7?" value="No">           
              <input type="checkbox" id="option7" name="7?" value="Yes">
              <label for="option7">7</label>  
            
              <input type="hidden" name="8?" value="No">           
              <input type="checkbox" id="option8" name="8?" value="Yes">
              <label for="option8">8</label><br>  
              
              
          </div>

    <!--        Auto Notes-->
          <div class="field, column">
            <h3 class="label">Additional Notes<br>(Did the program perform as expected?<br> If not, what happened? Where did the robot end up?)<span class="required-indicator">*</span></h3>
            <div class="control">
              <textarea
                class="input"
                type="textarea"
                placeholder="Auto Notes"
                name="Auto Notes"
                    required></textarea>
            </div>
          </div>
        </div>
            
<!--Tele-Op Scoring Row-->
    <hr>
    <h2>Tele-Op Scoring</h2>
    <div class="row" >
        
        
    <!--      Where can they score?-->
          <div class="field, column">
            <h3>Where can they Score?</h3>
              
            <div class="control">
                <input type="hidden" name="Score Speaker?" value="No"> 
              <input type="checkbox" id="option1" name="Score Speaker?" value="Yes">
              <label for="option1"> Speaker</label><br>
            </div>
              
            <div class="control">
              <input type="hidden" name="Score Amp?" value="No">     
              <input type="checkbox" id="option2" name="Score Amp?" value="Yes">
              <label for="option2"> Amp</label><br>
            </div>  
               
              
              
          </div>


    <!--        Notes in Speaker-->
          <div class="field, column">
            <h3 class="label">How Many Notes in Speaker<br>during Tele-Op?<span class="required-indicator">*</span></h3>
            <div class="increase">
                 <button class="button decrease" type = "button">-</button>
              <input
                class="input"
                type="number"
                placeholder="0"
                name="Notes in Speaker"
              required/>
                <button class="button button_increase" type = "button">+</button>
            </div>
          </div>

<!--        Notes in Amp-->
          <div class="field, column">
            <h3 class="label">How Many Notes in Amp during <br>Tele-Op?<span class="required-indicator">*</span></h3>
            <div class="increase">
                 <button class="button decrease" type = "button">-</button>
              <input
                class="input"
                type="number"
                placeholder="0"
                name="Notes in Amp"
              required/>
                <button class="button button_increase" type = "button">+</button>
            </div>
          </div>
        
    <!--      Where did they pick up Notes?-->
          <div class="field, column">
            <h3>Where did they <br>Pick Up Notes From?</h3>
              
            <div class="control">
              <input type="hidden" name="Intake Ground?" value="No">     
              <input type="checkbox" id="option1" name="Intake Ground?" value="Yes">
              <label for="option1"> Ground</label><br>
            </div>
              
            <div class="control">
              <input type="hidden" name="HP to Robot?" value="No">      
              <input type="checkbox" id="option2" name="HP to Robot?" value="Yes">
              <label for="option2"> Human Player into Robot</label><br>
            </div>  
              
            <div class="control">
              <input type="hidden" name="HP to Ground?" value="No">     
              <input type="checkbox" id="option3" name="HP to Ground?" value="Yes">
              <label for="option3">Human Player to Ground</label><br> 
              </div>            
          </div>


    
        </div>
  
<!--Driving Row-->
    <hr>
    <h2>Driving</h2>
    <div class="row" >
        
        
    <!--      Driving Speed?-->
          <div class="field, column">
              <h3>Driving Speed<span class="required-indicator">*</span></h3>
              
              <input type="radio" id="fast" name="Driving Speed" value="Fast">
              <label for="fast">Fast</label><br>
              <input type="radio" id="medium" name="Driving Speed" value="Medium">
              <label for="medium">Medium</label><br>
              <input type="radio" id="slow" name="Driving Speed" value="Slow">
              <label for="slow">Slow</label><br>
              
          </div>
        
     <!--      Cycle Time?-->
          <div class="field, column">
            <h3>Cycle Time<span class="required-indicator">*</span></h3>
              
              <input type="radio" id="fast" name="Cycle Time" value="Fast">
              <label for="fast">Fast</label><br>
              <input type="radio" id="medium" name="Cycle Time" value="Medium">
              <label for="medium">Medium</label><br>
              <input type="radio" id="slow" name="Cycle Time" value="Slow">
              <label for="slow">Slow</label><br>
              
          </div>    
        
<!--      Driving Efficiency?-->
          <div class="field, column">
            <h3>Driving Efficiency<span class="required-indicator">*</span></h3>
              
              <input type="radio" id="good" name="Driving Efficiency" value="Good">
              <label for="good">Good Driver (smooth, quick, decisive)</label><br>
              <input type="radio" id="bad" name="Driving Efficiency" value="Bad">
              <label for="bad">Bad Driver (rough, accident prone, indecisive)</label><br>
              <input type="radio" id="middle" name="Driving Efficiency" value="Middle">
              <label for="middle">Middle Driver (mix of both)</label><br>
              
          </div>        
        
    <!--        Defensive?-->
<div class="field, column">
            <h3>Did they Play Defensively?<span class="required-indicator">*</span></h3>
              
              <input type="radio" id="yes" name="Defensive?" value="Yes">
              <label for="yes">Yes</label><br>
              <input type="radio" id="no" name="Defensive?" value="No">
              <label for="no">No</label><br>
              
          </div>

        

    
        </div>                  

            
<!--Endgame Row-->
    <hr>
    <h2>Endgame</h2>
    <div class="row" >
        
        
    <!--      Endgame Aspects-->
          <div class="field, column">
            <h3>Endgame Aspects</h3>
              
            <div class="control">
              <input type="hidden" name="Climb Chain?" value="No">     
              <input type="checkbox" id="option1" name="Climb Chain?" value="Yes">
              <label for="option1"> Climbs Chain</label><br>  
            </div>
              
            <div class="control">
              <input type="hidden" name="Trap?" value="No">     
              <input type="checkbox" id="option2" name="Trap?" value="Yes">
              <label for="option2"> Scores in Trap</label><br>  
            </div>  
              
            <div class="control">
              <input type="hidden" name="Park?" value="No">      
              <input type="checkbox" id="option3" name="Park?" value="Yes">
              <label for="option3"> Parks at Chain</label><br> 
            </div>    
              
              
          </div>

<!--        Spotlight?-->
<div class="field, column">
            <h3>Did they Spotlight?<span class="required-indicator">*</span></h3>
              
              <input type="radio" id="yes" name="Spotlight?" value="Yes">
              <label for="yes">Yes</label><br>
              <input type="radio" id="no" name="Spotlight?" value="No">
              <label for="no">No</label><br>
              
          </div>

<!--        Harmonize?-->
<div class="field, column">
            <h3>Did they Harmonize?<span class="required-indicator">*</span></h3>
              
              <input type="radio" id="yes" name="Harmonize?" value="Yes">
              <label for="yes">Yes</label><br>
              <input type="radio" id="no" name="Harmonize?" value="No">
              <label for="no">No</label><br>
              
          </div>
        

        </div>            
         
<!--Overall Row-->
    <hr>
    <h2>Overall</h2>
    <div class="row" >
        
<!--     Coopertition   -->
    <div class="field, column">
            <h3>Did they Coopertition at all?<span class="required-indicator">*</span></h3>
              
              <input type="radio" id="yes" name="Coopertition?" value="Yes">
              <label for="yes">Yes</label><br>
              <input type="radio" id="no" name="Coopertition?" value="No">
              <label for="no">No</label><br>
              
          </div>
        
        
    <!--        Overall Notes-->
          <div class="field, column">
            <h3 class="label"> Additional notes <br>(Weird occurrences, damage, stoppages, general feelings about the team)<span class="required-indicator">*</span></h3>
            <div class="control">
              <textarea
                class="input"
                type="textarea"
                placeholder="Overall Notes"
                name="Overall Notes" required></textarea>
            </div>
          </div>
 
        <!--      Rating-->
          <div class="field, column">
            <h3>Overall Rating Out of 10<span class="required-indicator">*</span></h3>
              
              <input type="radio" id="1" name="Rating" value="1">
              <label for="1">1</label>
              <input type="radio" id="2" name="Rating" value="2">
              <label for="2">2</label><br>
              <input type="radio" id="3" name="Rating" value="3">
              <label for="3">3</label>
              <input type="radio" id="4" name="Rating" value="4">
              <label for="4">4</label><br>
              <input type="radio" id="5" name="Rating" value="5">
              <label for="5">5</label>
              <input type="radio" id="6" name="Rating" value="6">
              <label for="6">6</label><br>
              <input type="radio" id="7" name="Rating" value="7">
              <label for="7">7</label>
              <input type="radio" id="8" name="Rating" value="8">
              <label for="8">8</label><br>
              <input type="radio" id="9" name="Rating" value="9">
              <label for="9">9</label>
              <input type="radio" id="10" name="Rating" value="10">
              <label for="10">10</label><br>
              
          </div>   
        
        
        </div>            
            <div
      id="message"
      style="
        display: none;
        margin: 20px;
        font-weight: bold;
        color: green;
        padding: 8px;
        background-color: beige;
        border-radius: 4px;
        border-color: aquamarine;
      "
    ></div>
            
    <center>
      <div id="qrcode"></div><br><br>
      </center>         

            
<!--SUBMIT FORM-->
           <br><br>
          <center>
          <div class="field is-grouped">
            <div class="control">
              <button class="button is-primary" type="submit" id="submit-button">
                Submit Online
              </button>
              <button class="button is-primary" type="button" id="generate-qr">
                Generate QR Code
              </button>    
            </div>

          </div>
          </center>
        </div>
    </form>
    
    <script>
        document.getElementById("form").addEventListener("submit", function (e) {
        e.preventDefault(); // Prevent the default form submission
        document.getElementById("message").textContent = "Submitting...";
        document.getElementById("message").style.display = "block";
        document.getElementById("submit-button").disabled = true;
        document.getElementById("message").style.backgroundColor = "lightblue";
        document.getElementById("message").style.color = "black";

        // Collect the form data
        var formData = new FormData(this);
        var keyValuePairs = [];
        for (var pair of formData.entries()) {
          keyValuePairs.push(pair[0] + "=" + pair[1]);
        }

        var formDataString = keyValuePairs.join("&");

        // Send a POST request to your Google Apps Script
        fetch(
          "https://script.google.com/macros/s/AKfycbzNA6yfGVUPLmOXaQ-sdxQwlplc_Y1U_1sQ_1WjKVNDEhYrs_4oqdDcToJZsTjl7Eom/exec",
          {
            redirect: "follow",
            method: "POST",
            mode: 'no-cors',
            body: formDataString,
            headers: {
              "Content-Type": "text/plain;charset=utf-8",
            },
          }
        )
          .then(function (response) {
            // Check if the request was successful
            if (response) {
              return response; // Assuming your script returns JSON response
            } else {
              throw new Error("Failed to submit the form.");
            }
          })
          .then(function (data) {
            // Display a success message
            document.getElementById("message").textContent =
              "Data submitted successfully!";
            document.getElementById("message").style.display = "block";
            document.getElementById("message").style.backgroundColor = "green";
            document.getElementById("message").style.color = "beige";
            document.getElementById("submit-button").disabled = false;
            document.getElementById("form").reset();

            setTimeout(function () {
              document.getElementById("message").textContent = "";
              document.getElementById("message").style.display = "none";
            }, 2600);
          })
          .catch(function (error) {
            // Display a success message
            document.getElementById("message").textContent =
              "Failed to submit the form";
            document.getElementById("message").style.display = "block";
            document.getElementById("message").style.backgroundColor = "red";
            document.getElementById("message").style.color = "beige";
            document.getElementById("submit-button").disabled = false;

            
          });
      });
    </script>     

    <script>
      document.getElementById("generate-qr").addEventListener("click", function (e) {
        e.preventDefault(); // Prevent the default form submission
        if (validateForm()) {
            generateQRCode(); // Generate QR code
        } else {
            alert("Please fill in all required fields.");
        }
});

      function generateQRCode() {
        document.getElementById("qrcode").innerHTML = "";  
        var formData = new FormData(document.getElementById("form"));
        var keyValuePairs = [];
        for (var pair of formData.entries()) {
          keyValuePairs.push(pair[0] + "=" + pair[1]);
        }
        var formDataString = keyValuePairs.join("&");
        
        // Generate QR code
        var qr = new QRCode(document.getElementById("qrcode"), {
          text: formDataString,
          width: 256,
          height: 256,
        });
      }
        
    function validateForm() {
  const requiredFields = document.querySelectorAll('input[required], textarea[required]');
  let isValid = true;
  requiredFields.forEach(field => {
    if (!field.value.trim()) {
      isValid = false;
      return;
    }
  });
  return isValid;
}    
      
      document.addEventListener('DOMContentLoaded', function() {
    const increaseButtons = document.querySelectorAll('.button_increase');
    const decreaseButtons = document.querySelectorAll('.decrease');

    increaseButtons.forEach(function(button) {
      button.addEventListener('click', function(event) {
        event.preventDefault();
        const input = event.target.parentNode.querySelector('input[type="number"]');
        input.stepUp();
      });
    });

    decreaseButtons.forEach(function(button) {
      button.addEventListener('click', function(event) {
        event.preventDefault();
        const input = event.target.parentNode.querySelector('input[type="number"]');
        input.stepDown();
      });
    });
  });

        
    </script>
      
      
  </body>
</html>
